(()=>{"use strict";function e(){var e=document.getElementById("video-upload-input");if(0==e.files.length);else{var n=e.files[0];"video/mp4"!==n.type||fetch("/video/".concat(n.name),{method:"PUT",body:n}).then((function(e){return e.json()})).then(console.log)}}function n(e){var n=document.getElementsByClassName(e);if(0===n.length)throw'no elements found of class "'.concat(e,'"');var t=Array.from(n).filter((function(e){return e.classList.contains("template")}));if(0===t.length)throw"no template for class ".concat(e);if(t.length>1)throw"multiple templates for ".concat(e);var o=n[0].cloneNode(!0);return o.classList.remove("template"),o}function t(){var e=window.screens.length+1;window.screens.push({content:[]}),window.selectedScreen=e;var t=document.getElementById("tab-list"),o=n("tab");o.querySelector(".number").textContent=String(e),o.addEventListener("click",(function(){return n=e,void console.log("not yet implemented, screen change req for "+n);var n})),t.appendChild(o)}window.selectedScreen=null,window.videoData=[],window.screens=[],window.onload=function(){var o,c,r,i,a,l;document.getElementById("video-upload-button").addEventListener("click",e),window.videoData=((o=new XMLHttpRequest).open("GET","/video",!1),o.send(),JSON.parse(o.response)),c=window.videoData,a=n("video"),l=document.getElementById("video-list-container"),(r="video",i=Array.from(document.getElementsByClassName(r)).filter((function(e){return e.classList.contains("template")})),0===i.length&&console.log('no elements of class"'.concat(r,'"')),i).forEach((function(e){return e.remove()})),c.forEach((function(e){var n=a.cloneNode(!0);n.querySelector(".video-name").innerHTML=e.name,l.append(n)})),document.getElementById("add-screen").addEventListener("click",t)}})();